(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[936],{683:function(e,t,s){Promise.resolve().then(s.bind(s,7473))},7473:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var n=s(7437),r=s(2265),a=s(6070),i=s(2869),l=s(6815),c=s(5897),o=s(1828),d=s(3647),u=s(372),f=s(954),h=s(962),m=s(2759),p=s(5153),x=s(2660),g=s(2106),j=s(1706),v=s(1817),b=s(3276),y=s(2735),w=s(7648);function N(){let{toast:e}=(0,p.pm)(),[t,s]=(0,r.useState)(null),[N,k]=(0,r.useState)(null),[S,C]=(0,r.useState)(!1),[Z,M]=(0,r.useState)(0),[_,R]=(0,r.useState)(null),[F,V]=(0,r.useState)({mode:"fm",useShiftedSrc:!0,flowMatchingSteps:32}),E=async()=>{if(!t||!N){e({title:"Error",description:"Please upload both content and reference audio",variant:"destructive"});return}C(!0),M(0);try{let s=new FormData;s.append("content_audio",t),s.append("reference_audio",N),s.append("mode",F.mode),s.append("use_shifted_src",F.useShiftedSrc.toString()),s.append("flow_matching_steps",F.flowMatchingSteps.toString());let n=setInterval(()=>{M(e=>e>=90?e:e+10*Math.random())},500),r=await fetch("/api/svc/vevosing",{method:"POST",body:s});if(clearInterval(n),!r.ok){let e=await r.json();throw Error(e.detail||"Conversion failed")}let a=await r.blob(),i=URL.createObjectURL(a);R(i),M(100),e({title:"Success",description:"Singing voice converted successfully with VevoSing"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to convert singing voice",variant:"destructive"})}finally{C(!1)}};return(0,n.jsxs)("div",{className:"container mx-auto py-6",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)(w.default,{href:"/svc",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[(0,n.jsx)(x.Z,{className:"mr-2 h-4 w-4"}),"Back to Singing Voice Conversion"]}),(0,n.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"VevoSing"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Singing voice conversion using flow matching - preserve melody, change singer"})]}),(0,n.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsxs)(a.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(g.Z,{className:"h-5 w-5"}),"Content Audio (Melody)",(0,n.jsx)(f.k,{content:"The singing voice you want to convert - the melody/content is preserved"})]})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)(u.p,{accept:"audio/*",onFileSelect:s,selectedFile:t,label:"Upload content audio (song to convert)",description:"WAV or MP3 format recommended"})})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsxs)(a.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(j.Z,{className:"h-5 w-5"}),"Reference Audio (Timbre)",(0,n.jsx)(f.k,{content:"The voice timbre you want to apply to the singing"})]})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)(u.p,{accept:"audio/*",onFileSelect:k,selectedFile:N,label:"Upload reference audio (target singer voice)",description:"WAV or MP3 format recommended"})})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{children:"Parameters"})}),(0,n.jsxs)(a.aY,{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)(l._,{className:"flex items-center gap-2",children:["Mode",(0,n.jsx)(f.k,{content:"FM (Flow Matching) for timbre-only control, AR (Autoregressive) for full control including prosody"})]}),(0,n.jsxs)(d.Ph,{value:F.mode,onValueChange:e=>V(t=>({...t,mode:e})),children:[(0,n.jsx)(d.i4,{children:(0,n.jsx)(d.ki,{})}),(0,n.jsxs)(d.Bw,{children:[(0,n.jsx)(d.Ql,{value:"fm",children:"Flow Matching (Timbre only)"}),(0,n.jsx)(d.Ql,{value:"ar",children:"Autoregressive (Full control)"})]})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(l._,{className:"flex items-center gap-2 cursor-pointer",children:["Use Shifted Source",(0,n.jsx)(f.k,{content:"Use pitch-shifted source for better prosody extraction"})]}),(0,n.jsx)(o.r,{checked:F.useShiftedSrc,onCheckedChange:e=>V(t=>({...t,useShiftedSrc:e}))})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(l._,{className:"flex items-center gap-2",children:["Flow Matching Steps",(0,n.jsx)(f.k,{content:"Number of flow matching steps (higher = better quality but slower)"})]}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground w-12 text-right",children:F.flowMatchingSteps})]}),(0,n.jsx)(c.i,{value:[F.flowMatchingSteps],onValueChange:e=>{let[t]=e;return V(e=>({...e,flowMatchingSteps:t}))},min:10,max:100,step:2})]})]})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{children:"Conversion"})}),(0,n.jsxs)(a.aY,{className:"space-y-4",children:[(0,n.jsx)(i.z,{onClick:E,disabled:S||!t||!N,className:"w-full h-12",size:"lg",children:S?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.Z,{className:"mr-2 h-5 w-5 animate-spin"}),"Converting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(b.Z,{className:"mr-2 h-5 w-5"}),"Convert Singing Voice"]})}),S&&(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(m.E,{value:Z}),(0,n.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:[Z<30&&"Analyzing audio...",Z>=30&&Z<70&&"Converting voice...",Z>=70&&Z<100&&"Finalizing...",100===Z&&"Complete!"]})]})]})]}),_&&(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{children:"Converted Audio"})}),(0,n.jsxs)(a.aY,{className:"space-y-4",children:[(0,n.jsx)(h.z,{src:_}),(0,n.jsxs)(i.z,{variant:"outline",className:"w-full",onClick:()=>{if(!_)return;let e=document.createElement("a");e.href=_,e.download="vevosing-".concat(Date.now(),".wav"),document.body.appendChild(e),e.click(),document.body.removeChild(e)},children:[(0,n.jsx)(y.Z,{className:"mr-2 h-4 w-4"}),"Download WAV"]})]})]})]})]})]})}},6815:function(e,t,s){"use strict";s.d(t,{_:function(){return o}});var n=s(7437),r=s(2265),a=s(370),i=s(535),l=s(4508);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.f,{ref:t,className:(0,l.cn)(c(),s),...r})});o.displayName=a.f.displayName},3647:function(e,t,s){"use strict";s.d(t,{Bw:function(){return f},Ph:function(){return o},Ql:function(){return h},i4:function(){return u},ki:function(){return d}});var n=s(7437),r=s(2265),a=s(4109),i=s(875),l=s(401),c=s(4508);let o=a.fC;a.ZA;let d=a.B4,u=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,n.jsxs)(a.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,n.jsx)(a.JO,{asChild:!0,children:(0,n.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=a.xz.displayName;let f=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...l}=e;return(0,n.jsx)(a.h_,{children:(0,n.jsx)(a.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:(0,n.jsx)(a.l_,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r})})})});f.displayName=a.VY.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=a.__.displayName;let h=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,n.jsxs)(a.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,n.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,n.jsx)(a.wU,{children:(0,n.jsx)(l.Z,{className:"h-4 w-4"})})}),(0,n.jsx)(a.eT,{children:r})]})});h.displayName=a.ck.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=a.Z0.displayName},1828:function(e,t,s){"use strict";s.d(t,{r:function(){return l}});var n=s(7437),r=s(2265),a=s(721),i=s(4508);let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,n.jsx)(a.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...r,ref:t,children:(0,n.jsx)(a.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});l.displayName=a.fC.displayName},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},9658:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])},2106:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]])},7689:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},721:function(e,t,s){"use strict";s.d(t,{bU:function(){return N},fC:function(){return w}});var n=s(2265),r=s(6741),a=s(8575),i=s(3966),l=s(886),c=s(6718),o=s(420),d=s(2912),u=s(7437),f="Switch",[h,m]=(0,i.b)(f),[p,x]=h(f),g=n.forwardRef((e,t)=>{let{__scopeSwitch:s,name:i,checked:c,defaultChecked:o,required:h,disabled:m,value:x="on",onCheckedChange:g,form:j,...v}=e,[w,N]=n.useState(null),k=(0,a.e)(t,e=>N(e)),S=n.useRef(!1),C=!w||j||!!w.closest("form"),[Z,M]=(0,l.T)({prop:c,defaultProp:null!=o&&o,onChange:g,caller:f});return(0,u.jsxs)(p,{scope:s,checked:Z,disabled:m,children:[(0,u.jsx)(d.WV.button,{type:"button",role:"switch","aria-checked":Z,"aria-required":h,"data-state":y(Z),"data-disabled":m?"":void 0,disabled:m,value:x,...v,ref:k,onClick:(0,r.Mj)(e.onClick,e=>{M(e=>!e),C&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),C&&(0,u.jsx)(b,{control:w,bubbles:!S.current,name:i,value:x,checked:Z,required:h,disabled:m,form:j,style:{transform:"translateX(-100%)"}})]})});g.displayName=f;var j="SwitchThumb",v=n.forwardRef((e,t)=>{let{__scopeSwitch:s,...n}=e,r=x(j,s);return(0,u.jsx)(d.WV.span,{"data-state":y(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:t})});v.displayName=j;var b=n.forwardRef((e,t)=>{let{__scopeSwitch:s,control:r,checked:i,bubbles:l=!0,...d}=e,f=n.useRef(null),h=(0,a.e)(f,t),m=(0,c.D)(i),p=(0,o.t)(r);return n.useEffect(()=>{let e=f.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(m!==i&&t){let s=new Event("click",{bubbles:l});t.call(e,i),e.dispatchEvent(s)}},[m,i,l]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:h,style:{...d.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function y(e){return e?"checked":"unchecked"}b.displayName="SwitchBubbleInput";var w=g,N=v}},function(e){e.O(0,[590,648,418,589,543,627,447,971,117,744],function(){return e(e.s=683)}),_N_E=e.O()}]);