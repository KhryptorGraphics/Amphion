(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[149],{580:(e,t,a)=>{Promise.resolve().then(a.bind(a,8101))},1682:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]])},1786:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},2001:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])},3757:(e,t,a)=>{"use strict";a.d(t,{e:()=>d});var s=a(5155),l=a(2115),r=a(5016),n=a(2001),i=a(5229),c=a(1786);function d(e){let{accept:t,onFileSelect:a,selectedFile:d,label:o="Drop file here or click to browse",description:u}=e,h=(0,l.useCallback)(e=>{e.preventDefault();let t=e.dataTransfer.files[0];t&&a(t)},[a]);return d?(0,s.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-muted/50",children:[(0,s.jsx)(n.A,{className:"h-8 w-8 text-primary"}),(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"font-medium text-sm truncate",children:d.name}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(d.size/1024/1024).toFixed(2)," MB"]})]}),(0,s.jsx)("button",{onClick:()=>{a(null)},className:"p-1 hover:bg-destructive/10 rounded transition-colors",children:(0,s.jsx)(i.A,{className:"h-4 w-4 text-destructive"})})]}):(0,s.jsxs)("div",{onDrop:h,onDragOver:e=>e.preventDefault(),className:(0,r.cn)("border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer","hover:border-primary hover:bg-primary/5"),children:[(0,s.jsx)("input",{type:"file",accept:t,onChange:e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];s&&a(s)},className:"hidden",id:"file-upload"}),(0,s.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer block",children:[(0,s.jsx)(c.A,{className:"mx-auto h-8 w-8 text-muted-foreground mb-2"}),(0,s.jsx)("p",{className:"font-medium",children:o}),u&&(0,s.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:u}),t&&(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Accepted: ",t]})]})]})}},5229:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},5626:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7235:(e,t,a)=>{"use strict";a.d(t,{d:()=>i});var s=a(5155),l=a(2115),r=a(7599),n=a(5016);let i=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.bL,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...l,ref:t,children:(0,s.jsx)(r.zi,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=r.bL.displayName},7599:(e,t,a)=>{"use strict";a.d(t,{bL:()=>y,zi:()=>k});var s=a(2115),l=a(2556),r=a(4446),n=a(3468),i=a(3558),c=a(8108),d=a(4288),o=a(8142),u=a(5155),h="Switch",[m,p]=(0,n.A)(h),[x,f]=m(h),v=s.forwardRef((e,t)=>{let{__scopeSwitch:a,name:n,checked:c,defaultChecked:d,required:m,disabled:p,value:f="on",onCheckedChange:v,form:j,...b}=e,[y,k]=s.useState(null),w=(0,r.s)(t,e=>k(e)),S=s.useRef(!1),A=!y||j||!!y.closest("form"),[C,F]=(0,i.i)({prop:c,defaultProp:null!=d&&d,onChange:v,caller:h});return(0,u.jsxs)(x,{scope:a,checked:C,disabled:p,children:[(0,u.jsx)(o.sG.button,{type:"button",role:"switch","aria-checked":C,"aria-required":m,"data-state":N(C),"data-disabled":p?"":void 0,disabled:p,value:f,...b,ref:w,onClick:(0,l.mK)(e.onClick,e=>{F(e=>!e),A&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())})}),A&&(0,u.jsx)(g,{control:y,bubbles:!S.current,name:n,value:f,checked:C,required:m,disabled:p,form:j,style:{transform:"translateX(-100%)"}})]})});v.displayName=h;var j="SwitchThumb",b=s.forwardRef((e,t)=>{let{__scopeSwitch:a,...s}=e,l=f(j,a);return(0,u.jsx)(o.sG.span,{"data-state":N(l.checked),"data-disabled":l.disabled?"":void 0,...s,ref:t})});b.displayName=j;var g=s.forwardRef((e,t)=>{let{__scopeSwitch:a,control:l,checked:n,bubbles:i=!0,...o}=e,h=s.useRef(null),m=(0,r.s)(h,t),p=(0,c.Z)(n),x=(0,d.X)(l);return s.useEffect(()=>{let e=h.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(p!==n&&t){let a=new Event("click",{bubbles:i});t.call(e,n),e.dispatchEvent(a)}},[p,n,i]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...o,tabIndex:-1,ref:m,style:{...o.style,...x,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function N(e){return e?"checked":"unchecked"}g.displayName="SwitchBubbleInput";var y=v,k=b},8101:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var s=a(5155),l=a(2115),r=a(3209),n=a(7003),i=a(7001),c=a(235),d=a(7060),o=a(7235),u=a(7507),h=a(9827),m=a(3351),p=a(3757),x=a(5850),f=a(8171),v=a(5626),j=a(9142),b=a(1682),g=a(6667),N=a(5299),y=a(5921),k=a(9867),w=a(2619),S=a.n(w);let A={alpha:"Flow matching guidance scale for ODE solver.",beta:"Variance of the stochastic sampler.",noiseScale:"Stochastic duration predictor noise scale.",lengthScale:"Speed control - < 1.0 is faster, > 1.0 is slower."},C=[{value:"default",label:"Default"},{value:"female-1",label:"Female 1"},{value:"female-2",label:"Female 2"},{value:"male-1",label:"Male 1"},{value:"male-2",label:"Male 2"}];function F(){let{toast:e}=(0,f.dj)(),[t,a]=(0,l.useState)(""),[w,F]=(0,l.useState)(!1),[E,I]=(0,l.useState)(0),[M,R]=(0,l.useState)(null),[D,T]=(0,l.useState)(!1),[V,Z]=(0,l.useState)(null),[_,B]=(0,l.useState)({alpha:1,beta:0,noiseScale:.667,lengthScale:1,voiceId:"default"}),L=async()=>{if(!t.trim())return void e({title:"Error",description:"Please enter text",variant:"destructive"});F(!0),I(0);try{let a=new FormData;a.append("text",t),a.append("alpha",_.alpha.toString()),a.append("beta",_.beta.toString()),a.append("noise_scale",_.noiseScale.toString()),a.append("length_scale",_.lengthScale.toString()),D&&V?a.append("reference_audio",V):_.voiceId&&"default"!==_.voiceId&&a.append("voice_id",_.voiceId);let s=setInterval(()=>{I(e=>e>=90?e:e+5)},1e3),l=await fetch("/api/tts/jets",{method:"POST",body:a});if(clearInterval(s),!l.ok)throw Error("Generation failed");let r=await l.blob();R(URL.createObjectURL(r)),I(100),e({title:"Success",description:"Audio generated with Jets"})}catch(t){e({title:"Error",description:String(t),variant:"destructive"})}finally{F(!1)}};return(0,s.jsxs)("div",{className:"container mx-auto py-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)(S(),{href:"/tts",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[(0,s.jsx)(v.A,{className:"mr-2 h-4 w-4"}),"Back to TTS"]}),(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Jets"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"Joint training of FastSpeech2 and HiFi-GAN for fast, high-quality TTS"})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(r.Zp,{children:[(0,s.jsx)(r.aR,{children:(0,s.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(j.A,{className:"h-5 w-5"}),"Text Input"]})}),(0,s.jsxs)(r.Wu,{children:[(0,s.jsx)(i.T,{value:t,onChange:e=>a(e.target.value),rows:8,placeholder:"Enter text to synthesize..."}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[t.length," characters"]})]})]}),(0,s.jsxs)(r.Zp,{children:[(0,s.jsx)(r.aR,{children:(0,s.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(b.A,{className:"h-5 w-5"}),"Voice"]})}),(0,s.jsxs)(r.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)(c.J,{children:"Use Voice Clone"}),(0,s.jsx)(o.d,{checked:D,onCheckedChange:T})]}),D?(0,s.jsx)(p.e,{accept:"audio/*",onFileSelect:Z,selectedFile:V}):(0,s.jsxs)(u.l6,{value:_.voiceId,onValueChange:e=>B(t=>({...t,voiceId:e})),children:[(0,s.jsx)(u.bq,{children:(0,s.jsx)(u.yv,{placeholder:"Select voice"})}),(0,s.jsx)(u.gC,{children:C.map(e=>(0,s.jsx)(u.eb,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)(r.Zp,{children:[(0,s.jsx)(r.aR,{children:(0,s.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,s.jsx)(g.A,{className:"h-5 w-5"}),"Parameters"]})}),(0,s.jsx)(r.Wu,{className:"space-y-6",children:[{key:"alpha",label:"Alpha (Flow Scale)",min:.5,max:2,step:.05},{key:"beta",label:"Beta (Stochastic Variance)",min:0,max:1,step:.05},{key:"noiseScale",label:"Noise Scale",min:0,max:1,step:.01},{key:"lengthScale",label:"Length Scale (Speed)",min:.5,max:2,step:.05}].map(e=>{let{key:t,label:a,min:l,max:r,step:n}=e;return(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)(c.J,{className:"flex items-center gap-2",children:[a," ",(0,s.jsx)(h.V,{content:A[t]})]}),(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:_[t].toFixed(2)})]}),(0,s.jsx)(d.A,{value:[_[t]],onValueChange:e=>{let[a]=e;return B(e=>({...e,[t]:a}))},min:l,max:r,step:n})]},t)})})]}),(0,s.jsx)(n.$,{onClick:L,disabled:w||!t.trim(),className:"w-full h-12",children:w?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(N.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(y.A,{className:"mr-2 h-5 w-5"}),"Generate with Jets"]})}),w&&(0,s.jsx)(x.k,{value:E}),M&&(0,s.jsxs)(r.Zp,{children:[(0,s.jsx)(r.aR,{children:(0,s.jsx)(r.ZB,{children:"Generated Audio"})}),(0,s.jsxs)(r.Wu,{children:[(0,s.jsx)(m.Y,{src:M}),(0,s.jsxs)(n.$,{variant:"outline",className:"w-full mt-4",onClick:()=>{let e=document.createElement("a");e.href=M,e.download="jets-".concat(Date.now(),".wav"),e.click()},children:[(0,s.jsx)(k.A,{className:"mr-2 h-4 w-4"}),"Download WAV"]})]})]})]})]})]})}}},e=>{e.O(0,[552,159,64,619,2,160,441,255,358],()=>e(e.s=580)),_N_E=e.O()}]);