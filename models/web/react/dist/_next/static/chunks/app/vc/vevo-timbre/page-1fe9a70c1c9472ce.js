(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[593],{2069:function(e,t,s){Promise.resolve().then(s.bind(s,8189))},8189:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var n=s(7437),r=s(2265),a=s(6070),i=s(2869),l=s(372),c=s(954),o=s(962),d=s(2759),u=s(5153),h=s(2660),m=s(1101),x=s(1706),p=s(1817),v=s(3276),f=s(2735),j=s(7648);function b(){let{toast:e}=(0,u.pm)(),[t,s]=(0,r.useState)(null),[b,y]=(0,r.useState)(null),[k,g]=(0,r.useState)(!1),[N,w]=(0,r.useState)(0),[Z,C]=(0,r.useState)(null),F=async()=>{if(!t||!b){e({title:"Error",description:"Please upload both source and reference audio",variant:"destructive"});return}g(!0),w(0);try{let s=new FormData;s.append("source_audio",t),s.append("reference_audio",b);let n=setInterval(()=>{w(e=>e>=90?e:e+15*Math.random())},500),r=await fetch("/api/vc/vevo-timbre",{method:"POST",body:s});if(clearInterval(n),!r.ok){let e=await r.json();throw Error(e.detail||"Conversion failed")}let a=await r.blob(),i=URL.createObjectURL(a);C(i),w(100),e({title:"Success",description:"Timbre converted successfully with Vevo Timbre"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to convert timbre",variant:"destructive"})}finally{g(!1)}};return(0,n.jsxs)("div",{className:"container mx-auto py-6",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)(j.default,{href:"/vc",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[(0,n.jsx)(h.Z,{className:"mr-2 h-4 w-4"}),"Back to Voice Conversion"]}),(0,n.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Vevo Timbre"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Timbre-only conversion - preserve speaking style, change only voice characteristics"})]}),(0,n.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsxs)(a.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(m.Z,{className:"h-5 w-5"}),"Source Audio",(0,n.jsx)(c.k,{content:"The audio you want to convert - preserves the speaking style/content"})]})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)(l.p,{accept:"audio/*",onFileSelect:s,selectedFile:t,label:"Upload source audio",description:"WAV or MP3 format recommended"})})]}),(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsxs)(a.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(x.Z,{className:"h-5 w-5"}),"Reference Audio",(0,n.jsx)(c.k,{content:"The timbre/voice color you want to apply (only timbre is transferred)"})]})}),(0,n.jsx)(a.aY,{children:(0,n.jsx)(l.p,{accept:"audio/*",onFileSelect:y,selectedFile:b,label:"Upload reference audio (target timbre)",description:"WAV or MP3 format recommended"})})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{children:"Conversion"})}),(0,n.jsxs)(a.aY,{className:"space-y-4",children:[(0,n.jsx)(i.z,{onClick:F,disabled:k||!t||!b,className:"w-full h-12",size:"lg",children:k?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.Z,{className:"mr-2 h-5 w-5 animate-spin"}),"Converting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(v.Z,{className:"mr-2 h-5 w-5"}),"Convert Timbre"]})}),k&&(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(d.E,{value:N}),(0,n.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:[N<30&&"Analyzing timbre...",N>=30&&N<70&&"Applying timbre conversion...",N>=70&&N<100&&"Finalizing...",100===N&&"Complete!"]})]})]})]}),Z&&(0,n.jsxs)(a.Zb,{children:[(0,n.jsx)(a.Ol,{children:(0,n.jsx)(a.ll,{children:"Converted Audio"})}),(0,n.jsxs)(a.aY,{className:"space-y-4",children:[(0,n.jsx)(o.z,{src:Z}),(0,n.jsxs)(i.z,{variant:"outline",className:"w-full",onClick:()=>{if(!Z)return;let e=document.createElement("a");e.href=Z,e.download="vevo-timbre-".concat(Date.now(),".wav"),document.body.appendChild(e),e.click(),document.body.removeChild(e)},children:[(0,n.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Download WAV"]})]})]})]})]})]})}},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1101:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]])},9658:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])},7689:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])}},function(e){e.O(0,[590,648,418,589,543,447,971,117,744],function(){return e(e.s=2069)}),_N_E=e.O()}]);