(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[368],{3062:function(e,t,s){Promise.resolve().then(s.bind(s,1428))},1428:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var n=s(7437),a=s(2265),i=s(6070),r=s(2869),l=s(6815),c=s(5897),o=s(372),d=s(954),u=s(962),h=s(2759),m=s(5153),f=s(2660),p=s(1101),x=s(1706),v=s(2883),j=s(1817),y=s(3276),g=s(2735),b=s(7648);function N(){let{toast:e}=(0,m.pm)(),[t,s]=(0,a.useState)(null),[N,w]=(0,a.useState)(null),[k,Z]=(0,a.useState)(!1),[S,M]=(0,a.useState)(0),[C,F]=(0,a.useState)(null),[_,O]=(0,a.useState)({inferenceSteps:200,sigma:1.2}),z=async()=>{if(!t||!N){e({title:"Error",description:"Please upload both source and reference audio",variant:"destructive"});return}Z(!0),M(0);try{let s=new FormData;s.append("source_audio",t),s.append("reference_audio",N),s.append("inference_steps",_.inferenceSteps.toString()),s.append("sigma",_.sigma.toString());let n=setInterval(()=>{M(e=>e>=90?e:e+10*Math.random())},500),a=await fetch("/api/vc/noro",{method:"POST",body:s});if(clearInterval(n),!a.ok){let e=await a.json();throw Error(e.detail||"Conversion failed")}let i=await a.blob(),r=URL.createObjectURL(i);F(r),M(100),e({title:"Success",description:"Voice converted successfully with Noro"})}catch(t){e({title:"Error",description:t instanceof Error?t.message:"Failed to convert voice",variant:"destructive"})}finally{Z(!1)}};return(0,n.jsxs)("div",{className:"container mx-auto py-6",children:[(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsxs)(b.default,{href:"/vc",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[(0,n.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Back to Voice Conversion"]}),(0,n.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Noro"}),(0,n.jsx)("p",{className:"text-muted-foreground",children:"Noise-robust voice conversion using diffusion - handles challenging audio conditions"})]}),(0,n.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(i.Zb,{children:[(0,n.jsx)(i.Ol,{children:(0,n.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(p.Z,{className:"h-5 w-5"}),"Source Audio",(0,n.jsx)(d.k,{content:"The audio you want to convert (can be noisy or low quality)"})]})}),(0,n.jsx)(i.aY,{children:(0,n.jsx)(o.p,{accept:"audio/*",onFileSelect:s,selectedFile:t,label:"Upload source audio (person to convert)",description:"Works well with noisy/challenging audio"})})]}),(0,n.jsxs)(i.Zb,{children:[(0,n.jsx)(i.Ol,{children:(0,n.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(x.Z,{className:"h-5 w-5"}),"Reference Audio",(0,n.jsx)(d.k,{content:"The voice you want to convert TO (target voice characteristics)"})]})}),(0,n.jsx)(i.aY,{children:(0,n.jsx)(o.p,{accept:"audio/*",onFileSelect:w,selectedFile:N,label:"Upload reference audio (target voice)",description:"WAV or MP3 format recommended"})})]}),(0,n.jsxs)(i.Zb,{children:[(0,n.jsx)(i.Ol,{children:(0,n.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,n.jsx)(v.Z,{className:"h-5 w-5"}),"Diffusion Parameters"]})}),(0,n.jsxs)(i.aY,{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(l._,{className:"flex items-center gap-2",children:["Inference Steps",(0,n.jsx)(d.k,{content:"Number of diffusion steps (150-300). Higher = better quality but slower."})]}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground w-12 text-right",children:_.inferenceSteps})]}),(0,n.jsx)(c.i,{value:[_.inferenceSteps],onValueChange:e=>{let[t]=e;return O(e=>({...e,inferenceSteps:t}))},min:150,max:300,step:10})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)(l._,{className:"flex items-center gap-2",children:["Sigma",(0,n.jsx)(d.k,{content:"Sigma parameter (0.95-1.5). Controls the noise level in the diffusion process."})]}),(0,n.jsx)("span",{className:"text-sm text-muted-foreground w-12 text-right",children:_.sigma.toFixed(2)})]}),(0,n.jsx)(c.i,{value:[_.sigma],onValueChange:e=>{let[t]=e;return O(e=>({...e,sigma:t}))},min:.95,max:1.5,step:.05})]})]})]})]}),(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)(i.Zb,{children:[(0,n.jsx)(i.Ol,{children:(0,n.jsx)(i.ll,{children:"Conversion"})}),(0,n.jsxs)(i.aY,{className:"space-y-4",children:[(0,n.jsx)(r.z,{onClick:z,disabled:k||!t||!N,className:"w-full h-12",size:"lg",children:k?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{className:"mr-2 h-5 w-5 animate-spin"}),"Converting..."]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y.Z,{className:"mr-2 h-5 w-5"}),"Convert with Noro"]})}),k&&(0,n.jsxs)("div",{className:"space-y-2",children:[(0,n.jsx)(h.E,{value:S}),(0,n.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:[S<30&&"Analyzing audio...",S>=30&&S<70&&"Running diffusion process...",S>=70&&S<100&&"Finalizing...",100===S&&"Complete!"]})]})]})]}),C&&(0,n.jsxs)(i.Zb,{children:[(0,n.jsx)(i.Ol,{children:(0,n.jsx)(i.ll,{children:"Converted Audio"})}),(0,n.jsxs)(i.aY,{className:"space-y-4",children:[(0,n.jsx)(u.z,{src:C}),(0,n.jsxs)(r.z,{variant:"outline",className:"w-full",onClick:()=>{if(!C)return;let e=document.createElement("a");e.href=C,e.download="noro-".concat(Date.now(),".wav"),document.body.appendChild(e),e.click(),document.body.removeChild(e)},children:[(0,n.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Download WAV"]})]})]})]})]})]})}},6815:function(e,t,s){"use strict";s.d(t,{_:function(){return o}});var n=s(7437),a=s(2265),i=s(370),r=s(535),l=s(4508);let c=(0,r.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef((e,t)=>{let{className:s,...a}=e;return(0,n.jsx)(i.f,{ref:t,className:(0,l.cn)(c(),s),...a})});o.displayName=i.f.displayName},2660:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},1101:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]])},9658:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]])},7689:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},2883:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]])},2489:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});let n=(0,s(9205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},370:function(e,t,s){"use strict";s.d(t,{f:function(){return c}});var n=s(2265);s(4887);var a=s(7053),i=s(7437),r=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let s=(0,a.Z8)(`Primitive.${t}`),r=n.forwardRef((e,n)=>{let{asChild:a,...r}=e,l=a?s:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(l,{...r,ref:n})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),l=n.forwardRef((e,t)=>(0,i.jsx)(r.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var c=l}},function(e){e.O(0,[590,648,418,589,543,447,971,117,744],function(){return e(e.s=3062)}),_N_E=e.O()}]);