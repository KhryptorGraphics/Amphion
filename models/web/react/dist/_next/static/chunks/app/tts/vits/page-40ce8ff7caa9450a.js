(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[557],{5626:(e,a,s)=>{"use strict";s.d(a,{A:()=>l});let l=(0,s(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6884:(e,a,s)=>{Promise.resolve().then(s.bind(s,7341))},7341:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>k});var l=s(5155),t=s(2115),n=s(3209),i=s(7003),r=s(7001),c=s(235),d=s(7060),o=s(7507),h=s(9827),x=s(3351),m=s(5850),u=s(8171),j=s(5626),p=s(9142),v=s(6667),f=s(5299),S=s(5921),g=s(9867),N=s(2619),w=s.n(N);let b={noiseScale:"Stochastic duration predictor noise scale (flow noise).",noiseScaleW:"Stochastic duration predictor noise scale (duration noise).",lengthScale:"Speed control - < 1.0 is faster, > 1.0 is slower."},y=[{value:"default",label:"Default"},{value:"female-1",label:"Female 1"},{value:"female-2",label:"Female 2"},{value:"male-1",label:"Male 1"},{value:"male-2",label:"Male 2"}];function k(){let{toast:e}=(0,u.dj)(),[a,s]=(0,t.useState)(""),[N,k]=(0,t.useState)(!1),[A,I]=(0,t.useState)(0),[_,W]=(0,t.useState)(null),[T,V]=(0,t.useState)({noiseScale:.667,noiseScaleW:.8,lengthScale:1,voiceId:"default"}),C=async()=>{if(!a.trim())return void e({title:"Error",description:"Please enter text",variant:"destructive"});k(!0),I(0);try{let s=new FormData;s.append("text",a),s.append("noise_scale",T.noiseScale.toString()),s.append("noise_scale_w",T.noiseScaleW.toString()),s.append("length_scale",T.lengthScale.toString()),T.voiceId&&"default"!==T.voiceId&&s.append("voice_id",T.voiceId);let l=setInterval(()=>{I(e=>e>=90?e:e+15*Math.random())},500),t=await fetch("/api/tts/vits",{method:"POST",body:s});if(clearInterval(l),!t.ok)throw Error("Generation failed");let n=await t.blob();W(URL.createObjectURL(n)),I(100),e({title:"Success",description:"Audio generated with VITS"})}catch(a){e({title:"Error",description:String(a),variant:"destructive"})}finally{k(!1)}};return(0,l.jsxs)("div",{className:"container mx-auto py-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)(w(),{href:"/tts",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[(0,l.jsx)(j.A,{className:"mr-2 h-4 w-4"}),"Back to TTS"]}),(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"VITS"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Variational Inference with adversarial learning for end-to-end Text-to-Speech"})]}),(0,l.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)(n.Zp,{children:[(0,l.jsx)(n.aR,{children:(0,l.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(p.A,{className:"h-5 w-5"}),"Text Input"]})}),(0,l.jsxs)(n.Wu,{children:[(0,l.jsx)(r.T,{value:a,onChange:e=>s(e.target.value),rows:8,placeholder:"Enter text to synthesize..."}),(0,l.jsxs)("p",{className:"text-sm text-muted-foreground mt-2",children:[a.length," characters"]})]})]}),(0,l.jsxs)(n.Zp,{children:[(0,l.jsx)(n.aR,{children:(0,l.jsx)(n.ZB,{children:"Voice"})}),(0,l.jsx)(n.Wu,{children:(0,l.jsxs)(o.l6,{value:T.voiceId,onValueChange:e=>V(a=>({...a,voiceId:e})),children:[(0,l.jsx)(o.bq,{children:(0,l.jsx)(o.yv,{placeholder:"Select voice"})}),(0,l.jsx)(o.gC,{children:y.map(e=>(0,l.jsx)(o.eb,{value:e.value,children:e.label},e.value))})]})})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)(n.Zp,{children:[(0,l.jsx)(n.aR,{children:(0,l.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(v.A,{className:"h-5 w-5"}),"Parameters"]})}),(0,l.jsx)(n.Wu,{className:"space-y-6",children:[{key:"noiseScale",label:"Noise Scale",min:0,max:1,step:.01},{key:"noiseScaleW",label:"Noise Scale W",min:0,max:1,step:.01},{key:"lengthScale",label:"Length Scale (Speed)",min:.5,max:2,step:.05}].map(e=>{let{key:a,label:s,min:t,max:n,step:i}=e;return(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)(c.J,{className:"flex items-center gap-2",children:[s," ",(0,l.jsx)(h.V,{content:b[a]})]}),(0,l.jsx)("span",{className:"text-sm text-muted-foreground",children:T[a].toFixed(2)})]}),(0,l.jsx)(d.A,{value:[T[a]],onValueChange:e=>{let[s]=e;return V(e=>({...e,[a]:s}))},min:t,max:n,step:i})]},a)})})]}),(0,l.jsx)(i.$,{onClick:C,disabled:N||!a.trim(),className:"w-full h-12",children:N?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(S.A,{className:"mr-2 h-5 w-5"}),"Generate with VITS"]})}),N&&(0,l.jsx)(m.k,{value:A}),_&&(0,l.jsxs)(n.Zp,{children:[(0,l.jsx)(n.aR,{children:(0,l.jsx)(n.ZB,{children:"Generated Audio"})}),(0,l.jsxs)(n.Wu,{children:[(0,l.jsx)(x.Y,{src:_}),(0,l.jsxs)(i.$,{variant:"outline",className:"w-full mt-4",onClick:()=>{let e=document.createElement("a");e.href=_,e.download="vits-".concat(Date.now(),".wav"),e.click()},children:[(0,l.jsx)(g.A,{className:"mr-2 h-4 w-4"}),"Download WAV"]})]})]})]})]})]})}}},e=>{e.O(0,[552,159,64,619,2,160,441,255,358],()=>e(e.s=6884)),_N_E=e.O()}]);