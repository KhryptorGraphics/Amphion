(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[729],{2657:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>S});var l=a(5155),s=a(2115),r=a(3209),n=a(7003),i=a(7001),c=a(235),o=a(7060),d=a(7507),h=a(9827),x=a(3351),m=a(5850),u=a(8171),p=a(5626),j=a(9142),v=a(6667),f=a(5299),g=a(5921),y=a(9867),N=a(2619),w=a.n(N);let C={pitchControl:"Pitch variation multiplier (1.0 = normal, >1.0 = higher pitch, <1.0 = lower pitch).",energyControl:"Energy/loudness variation multiplier.",durationControl:"Speaking rate control (<1.0 = faster, >1.0 = slower)."},b=[{value:"default",label:"Default"},{value:"female-1",label:"Female 1"},{value:"female-2",label:"Female 2"},{value:"male-1",label:"Male 1"},{value:"male-2",label:"Male 2"}];function S(){let{toast:e}=(0,u.dj)(),[t,a]=(0,s.useState)(""),[N,S]=(0,s.useState)(!1),[k,A]=(0,s.useState)(0),[E,_]=(0,s.useState)(null),[F,I]=(0,s.useState)({pitchControl:1,energyControl:1,durationControl:1,voiceId:"default"}),Z=async()=>{if(!t.trim())return void e({title:"Error",description:"Please enter text",variant:"destructive"});S(!0),A(0);try{let a=new FormData;a.append("text",t),a.append("pitch_control",F.pitchControl.toString()),a.append("energy_control",F.energyControl.toString()),a.append("duration_control",F.durationControl.toString()),F.voiceId&&"default"!==F.voiceId&&a.append("voice_id",F.voiceId);let l=setInterval(()=>{A(e=>e>=90?e:e+15*Math.random())},500),s=await fetch("/api/tts/fastspeech2",{method:"POST",body:a});if(clearInterval(l),!s.ok)throw Error("Generation failed");let r=await s.blob();_(URL.createObjectURL(r)),A(100),e({title:"Success",description:"Audio generated with FastSpeech2"})}catch(t){e({title:"Error",description:String(t),variant:"destructive"})}finally{S(!1)}};return(0,l.jsxs)("div",{className:"container mx-auto py-6",children:[(0,l.jsxs)("div",{className:"mb-6",children:[(0,l.jsxs)(w(),{href:"/tts",className:"inline-flex items-center text-sm text-muted-foreground hover:text-foreground mb-4",children:[(0,l.jsx)(p.A,{className:"mr-2 h-4 w-4"}),"Back to TTS"]}),(0,l.jsx)("h1",{className:"text-3xl font-bold",children:"FastSpeech2"}),(0,l.jsx)("p",{className:"text-muted-foreground",children:"Fast and high-quality end-to-end neural TTS with prosody control"})]}),(0,l.jsxs)("div",{className:"grid gap-6 lg:grid-cols-2",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)(r.Zp,{children:[(0,l.jsx)(r.aR,{children:(0,l.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(j.A,{className:"h-5 w-5"}),"Text Input"]})}),(0,l.jsx)(r.Wu,{children:(0,l.jsx)(i.T,{value:t,onChange:e=>a(e.target.value),rows:8,placeholder:"Enter text..."})})]}),(0,l.jsxs)(r.Zp,{children:[(0,l.jsx)(r.aR,{children:(0,l.jsx)(r.ZB,{children:"Voice"})}),(0,l.jsx)(r.Wu,{children:(0,l.jsxs)(d.l6,{value:F.voiceId,onValueChange:e=>I(t=>({...t,voiceId:e})),children:[(0,l.jsx)(d.bq,{children:(0,l.jsx)(d.yv,{})}),(0,l.jsx)(d.gC,{children:b.map(e=>(0,l.jsx)(d.eb,{value:e.value,children:e.label},e.value))})]})})]})]}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)(r.Zp,{children:[(0,l.jsx)(r.aR,{children:(0,l.jsxs)(r.ZB,{className:"flex items-center gap-2",children:[(0,l.jsx)(v.A,{className:"h-5 w-5"}),"Prosody Control"]})}),(0,l.jsx)(r.Wu,{className:"space-y-6",children:[{key:"pitchControl",label:"Pitch Control",min:.5,max:2},{key:"energyControl",label:"Energy Control",min:.5,max:2},{key:"durationControl",label:"Duration Control (Speed)",min:.5,max:2}].map(e=>{let{key:t,label:a,min:s,max:r}=e;return(0,l.jsxs)("div",{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsxs)(c.J,{className:"flex items-center gap-2",children:[a," ",(0,l.jsx)(h.V,{content:C[t]})]}),(0,l.jsxs)("span",{className:"text-sm text-muted-foreground",children:[F[t].toFixed(2),"x"]})]}),(0,l.jsx)(o.A,{value:[F[t]],onValueChange:e=>{let[a]=e;return I(e=>({...e,[t]:a}))},min:s,max:r,step:.05})]},t)})})]}),(0,l.jsx)(n.$,{onClick:Z,disabled:N||!t.trim(),className:"w-full h-12",children:N?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating..."]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(g.A,{className:"mr-2 h-5 w-5"}),"Generate"]})}),N&&(0,l.jsx)(m.k,{value:k}),E&&(0,l.jsxs)(r.Zp,{children:[(0,l.jsx)(r.aR,{children:(0,l.jsx)(r.ZB,{children:"Generated Audio"})}),(0,l.jsxs)(r.Wu,{children:[(0,l.jsx)(x.Y,{src:E}),(0,l.jsxs)(n.$,{variant:"outline",className:"w-full mt-4",onClick:()=>{let e=document.createElement("a");e.href=E,e.download="fastspeech2-".concat(Date.now(),".wav"),e.click()},children:[(0,l.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Download"]})]})]})]})]})]})}},5182:(e,t,a)=>{Promise.resolve().then(a.bind(a,2657))},5626:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});let l=(0,a(1847).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])}},e=>{e.O(0,[552,159,64,619,2,160,441,255,358],()=>e(e.s=5182)),_N_E=e.O()}]);