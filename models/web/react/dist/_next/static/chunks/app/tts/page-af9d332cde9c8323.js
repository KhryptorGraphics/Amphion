(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[416],{923:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>d,av:()=>o,j7:()=>c,tU:()=>i});var a=t(5155),l=t(2115),r=t(574),n=t(5016);let i=r.bL,c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.B8,{ref:s,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...l})});c.displayName=r.B8.displayName;let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.l9,{ref:s,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...l})});d.displayName=r.l9.displayName;let o=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.UC,{ref:s,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...l})});o.displayName=r.UC.displayName},3757:(e,s,t)=>{"use strict";t.d(s,{e:()=>d});var a=t(5155),l=t(2115),r=t(5016),n=t(2001),i=t(5229),c=t(1786);function d(e){let{accept:s,onFileSelect:t,selectedFile:d,label:o="Drop file here or click to browse",description:m}=e,x=(0,l.useCallback)(e=>{e.preventDefault();let s=e.dataTransfer.files[0];s&&t(s)},[t]);return d?(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 border rounded-lg bg-muted/50",children:[(0,a.jsx)(n.A,{className:"h-8 w-8 text-primary"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium text-sm truncate",children:d.name}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(d.size/1024/1024).toFixed(2)," MB"]})]}),(0,a.jsx)("button",{onClick:()=>{t(null)},className:"p-1 hover:bg-destructive/10 rounded transition-colors",children:(0,a.jsx)(i.A,{className:"h-4 w-4 text-destructive"})})]}):(0,a.jsxs)("div",{onDrop:x,onDragOver:e=>e.preventDefault(),className:(0,r.cn)("border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer","hover:border-primary hover:bg-primary/5"),children:[(0,a.jsx)("input",{type:"file",accept:s,onChange:e=>{var s;let a=null==(s=e.target.files)?void 0:s[0];a&&t(a)},className:"hidden",id:"file-upload"}),(0,a.jsxs)("label",{htmlFor:"file-upload",className:"cursor-pointer block",children:[(0,a.jsx)(c.A,{className:"mx-auto h-8 w-8 text-muted-foreground mb-2"}),(0,a.jsx)("p",{className:"font-medium",children:o}),m&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:m}),s&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["Accepted: ",s]})]})]})}},3779:(e,s,t)=>{Promise.resolve().then(t.bind(t,8011))},7235:(e,s,t)=>{"use strict";t.d(s,{d:()=>i});var a=t(5155),l=t(2115),r=t(7599),n=t(5016);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)(r.bL,{className:(0,n.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...l,ref:s,children:(0,a.jsx)(r.zi,{className:(0,n.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});i.displayName=r.bL.displayName},8011:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Q});var a=t(5155),l=t(2115),r=t(923),n=t(3209),i=t(7003),c=t(7001),d=t(235),o=t(7060),m=t(7235),x=t(7507),u=t(9827),h=t(3351),p=t(3757),j=t(5850),f=t(8171),g=t(9142),v=t(1682),N=t(6667),b=t(5299),w=t(5921),y=t(9867);let k={temperature:"Controls randomness in generation. Higher values (0.8-1.0) produce more varied output, lower values (0.1-0.5) are more deterministic.",topK:"Limits token selection to top K most likely tokens. Lower values make output more focused.",topP:"Nucleus sampling threshold. Tokens are selected from smallest set whose cumulative probability exceeds P.",maxLength:"Maximum length of generated audio in tokens."},C=[{value:"default",label:"Default"},{value:"female-1",label:"Female 1"},{value:"female-2",label:"Female 2"},{value:"male-1",label:"Male 1"},{value:"male-2",label:"Male 2"},{value:"child",label:"Child"}];function A(e){let{model:s}=e,{toast:t}=(0,f.dj)(),[r,A]=(0,l.useState)(""),[S,T]=(0,l.useState)(!1),[R,F]=(0,l.useState)(0),[L,V]=(0,l.useState)(null),[D,P]=(0,l.useState)(!1),[Z,E]=(0,l.useState)(null),[M,B]=(0,l.useState)({temperature:.7,topK:50,topP:.9,maxLength:2048,voiceId:"default"}),z=async()=>{if(!r.trim())return void t({title:"Error",description:"Please enter text to synthesize",variant:"destructive"});T(!0),F(0);try{let e=new FormData;e.append("text",r),e.append("model",s.id),e.append("temperature",M.temperature.toString()),e.append("top_k",M.topK.toString()),e.append("top_p",M.topP.toString()),e.append("max_length",M.maxLength.toString()),D&&Z?e.append("reference_audio",Z):M.voiceId&&"default"!==M.voiceId&&e.append("voice_id",M.voiceId);let a=setInterval(()=>{F(e=>e>=90?e:e+15*Math.random())},500),l=await fetch("/api/tts/generate",{method:"POST",body:e});if(clearInterval(a),!l.ok){let e=await l.json();throw Error(e.detail||"Generation failed")}let n=await l.blob(),i=URL.createObjectURL(n);V(i),F(100),t({title:"Success",description:"Audio generated successfully"})}catch(e){t({title:"Error",description:e instanceof Error?e.message:"Failed to generate audio",variant:"destructive"})}finally{T(!1)}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),"Text Input"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)(c.T,{placeholder:"Enter text to convert to speech...",value:r,onChange:e=>A(e.target.value),rows:6,className:"resize-none"}),(0,a.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,a.jsxs)("span",{children:[r.length," characters"]}),(0,a.jsxs)("span",{children:["Max: ",M.maxLength," tokens"]})]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-5 w-5"}),"Voice Selection"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(d.J,{htmlFor:"voice-clone",className:"cursor-pointer",children:"Use Voice Clone (Upload Reference)"}),(0,a.jsx)(m.d,{id:"voice-clone",checked:D,onCheckedChange:P})]}),D?(0,a.jsx)(p.e,{accept:"audio/*",onFileSelect:E,selectedFile:Z,label:"Upload reference audio (3-10 seconds)"}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(d.J,{children:"Voice"}),(0,a.jsxs)(x.l6,{value:M.voiceId,onValueChange:e=>B(s=>({...s,voiceId:e})),children:[(0,a.jsx)(x.bq,{children:(0,a.jsx)(x.yv,{placeholder:"Select voice"})}),(0,a.jsx)(x.gC,{children:C.map(e=>(0,a.jsx)(x.eb,{value:e.value,children:e.label},e.value))})]})]})]})]}),(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.A,{className:"h-5 w-5"}),"Generation Parameters"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(d.J,{className:"flex items-center gap-2",children:["Temperature",(0,a.jsx)(u.V,{content:k.temperature})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground w-12 text-right",children:M.temperature.toFixed(1)})]}),(0,a.jsx)(o.A,{value:[M.temperature],onValueChange:e=>{let[s]=e;return B(e=>({...e,temperature:s}))},min:.1,max:1.5,step:.1})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(d.J,{className:"flex items-center gap-2",children:["Top K",(0,a.jsx)(u.V,{content:k.topK})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground w-12 text-right",children:M.topK})]}),(0,a.jsx)(o.A,{value:[M.topK],onValueChange:e=>{let[s]=e;return B(e=>({...e,topK:s}))},min:1,max:100,step:1})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(d.J,{className:"flex items-center gap-2",children:["Top P",(0,a.jsx)(u.V,{content:k.topP})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground w-12 text-right",children:M.topP.toFixed(2)})]}),(0,a.jsx)(o.A,{value:[M.topP],onValueChange:e=>{let[s]=e;return B(e=>({...e,topP:s}))},min:.1,max:1,step:.05})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(d.J,{className:"flex items-center gap-2",children:["Max Length",(0,a.jsx)(u.V,{content:k.maxLength})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground w-16 text-right",children:M.maxLength})]}),(0,a.jsx)(o.A,{value:[M.maxLength],onValueChange:e=>{let[s]=e;return B(e=>({...e,maxLength:s}))},min:256,max:4096,step:256})]})]})]}),(0,a.jsx)(i.$,{onClick:z,disabled:S||!r.trim(),className:"w-full h-12",size:"lg",children:S?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Generating..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.A,{className:"mr-2 h-5 w-5"}),"Generate Speech"]})}),S&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.k,{value:R}),(0,a.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:[R<30&&"Preparing...",R>=30&&R<70&&"Generating audio...",R>=70&&R<100&&"Finalizing...",100===R&&"Complete!"]})]}),L&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsx)(n.ZB,{children:"Generated Audio"})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)(h.Y,{src:L}),(0,a.jsx)("div",{className:"flex gap-2",children:(0,a.jsxs)(i.$,{variant:"outline",className:"flex-1",onClick:()=>{if(!L)return;let e=document.createElement("a");e.href=L,e.download="tts-".concat(s.id,"-").concat(Date.now(),".wav"),document.body.appendChild(e),e.click(),document.body.removeChild(e)},children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Download WAV"]})})]})]})]})}var S=t(5016),T=t(5707),R=t(5917);function F(e){let{models:s,selected:t,onSelect:l}=e;return(0,a.jsxs)(n.Zp,{className:"h-fit",children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2 text-lg",children:[(0,a.jsx)(T.A,{className:"h-5 w-5"}),"Select Model"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)("div",{className:"space-y-2",children:s.map(e=>(0,a.jsx)("button",{onClick:()=>l(e),className:(0,S.cn)("w-full text-left p-3 rounded-lg transition-all","hover:bg-accent hover:shadow-sm","border-2",t.id===e.id?"border-primary bg-primary/5":"border-transparent bg-muted/50"),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"mt-0.5",children:t.id===e.id?(0,a.jsx)("div",{className:"h-5 w-5 rounded-full bg-primary flex items-center justify-center",children:(0,a.jsx)(R.A,{className:"h-3 w-3 text-primary-foreground"})}):(0,a.jsx)("div",{className:"h-5 w-5 rounded-full border-2 border-muted-foreground/30"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"font-medium text-sm",children:e.name}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:e.description})]})]})},e.id))})})]})}let L=l.forwardRef((e,s)=>{let{className:t,type:l,...r}=e;return(0,a.jsx)("input",{type:l,className:(0,S.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});L.displayName="Input";let V=(0,t(3101).F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function D(e){let{className:s,variant:t,...l}=e;return(0,a.jsx)("div",{className:(0,S.cn)(V({variant:t}),s),...l})}var P=t(3581),Z=t(6651),E=t(5229),M=t(1360),B=t(6983);let z={maskgct:"MaskGCT","dualcodec-valle":"DualCodec-VALLE","vevo-tts":"Vevo TTS",metis:"Metis"};function I(){let[e,s]=(0,l.useState)([]),[t,r]=(0,l.useState)(""),[c,d]=(0,l.useState)("all"),[o,m]=(0,l.useState)(null);(0,l.useEffect)(()=>{let e=localStorage.getItem("tts-history");if(e)try{let t=JSON.parse(e);s(t)}catch(e){console.error("Failed to parse TTS history")}},[]);let u=e=>{localStorage.setItem("tts-history",JSON.stringify(e)),s(e)},p=s=>{u(e.filter(e=>e.id!==s)),(null==o?void 0:o.id)===s&&m(null)},j=e=>{let s=document.createElement("a");s.href=e.audioUrl,s.download="tts-".concat(e.model,"-").concat(new Date(e.timestamp).getTime(),".wav"),document.body.appendChild(s),s.click(),document.body.removeChild(s)},f=e.filter(e=>{let s=e.text.toLowerCase().includes(t.toLowerCase()),a="all"===c||e.model===c;return s&&a}),g=Array.from(new Set(e.map(e=>e.model))),N=e=>new Date(e).toLocaleString();return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(P.A,{className:"h-5 w-5"}),"Filters"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(Z.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(L,{placeholder:"Search by text content...",value:t,onChange:e=>r(e.target.value),className:"pl-9"}),t&&(0,a.jsx)(i.$,{variant:"ghost",size:"sm",className:"absolute right-1 top-1 h-8 w-8 p-0",onClick:()=>r(""),children:(0,a.jsx)(E.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)(x.l6,{value:c,onValueChange:d,children:[(0,a.jsx)(x.bq,{className:"w-[180px]",children:(0,a.jsx)(x.yv,{placeholder:"Filter by model"})}),(0,a.jsxs)(x.gC,{children:[(0,a.jsx)(x.eb,{value:"all",children:"All Models"}),g.map(e=>(0,a.jsx)(x.eb,{value:e,children:z[e]||e},e))]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-muted-foreground",children:[f.length," items",t||"all"!==c?" (filtered)":""]}),e.length>0&&(0,a.jsxs)(i.$,{variant:"ghost",size:"sm",onClick:()=>{confirm("Are you sure you want to clear all history?")&&(u([]),m(null))},children:[(0,a.jsx)(M.A,{className:"mr-2 h-4 w-4"}),"Clear All"]})]})]})]}),0===f.length?(0,a.jsx)(n.Zp,{children:(0,a.jsxs)(n.Wu,{className:"py-12 text-center",children:[(0,a.jsx)(v.A,{className:"mx-auto h-12 w-12 text-muted-foreground/50"}),(0,a.jsx)("p",{className:"mt-4 text-lg font-medium",children:"No history yet"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Generated audio will appear here"})]})}):(0,a.jsxs)("div",{className:"grid gap-4",children:[o&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(n.ZB,{children:"Selected Audio"}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>m(null),children:(0,a.jsx)(E.A,{className:"h-4 w-4"})})]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)(h.Y,{src:o.audioUrl}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(i.$,{variant:"outline",className:"flex-1",onClick:()=>j(o),children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Download"]}),(0,a.jsxs)(i.$,{variant:"destructive",onClick:()=>p(o.id),children:[(0,a.jsx)(M.A,{className:"mr-2 h-4 w-4"}),"Delete"]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Model:"})," ",z[o.model]||o.model]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Voice:"})," ",o.voiceId]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Created:"})," ",N(o.timestamp)]}),o.duration&&(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Duration:"})," ",(e=>{if(!e)return"--:--";let s=Math.floor(e/60),t=Math.floor(e%60);return"".concat(s,":").concat(t.toString().padStart(2,"0"))})(o.duration)]})]})]})]}),(0,a.jsx)("div",{className:"grid gap-2",children:f.map(e=>(0,a.jsx)(n.Zp,{className:"cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>m(e),children:(0,a.jsx)(n.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center",children:(0,a.jsx)(w.A,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"font-medium truncate",children:e.text}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)(D,{variant:"outline",className:"text-xs",children:z[e.model]||e.model}),(0,a.jsx)("span",{children:"â€¢"}),(0,a.jsx)(B.A,{className:"h-3 w-3"}),(0,a.jsx)("span",{children:N(e.timestamp)})]})]}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),j(e)},children:(0,a.jsx)(y.A,{className:"h-4 w-4"})}),(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:s=>{s.stopPropagation(),p(e.id)},children:(0,a.jsx)(M.A,{className:"h-4 w-4"})})]})})},e.id))})]})]})}let U=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:s,className:(0,S.cn)("w-full caption-bottom text-sm",t),...l})})});U.displayName="Table";let O=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("thead",{ref:s,className:(0,S.cn)("[&_tr]:border-b",t),...l})});O.displayName="TableHeader";let J=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tbody",{ref:s,className:(0,S.cn)("[&_tr:last-child]:border-0",t),...l})});J.displayName="TableBody",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tfoot",{ref:s,className:(0,S.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...l})}).displayName="TableFooter";let W=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("tr",{ref:s,className:(0,S.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...l})});W.displayName="TableRow";let $=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("th",{ref:s,className:(0,S.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...l})});$.displayName="TableHead";let _=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("td",{ref:s,className:(0,S.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...l})});_.displayName="TableCell",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("caption",{ref:s,className:(0,S.cn)("mt-4 text-sm text-muted-foreground",t),...l})}).displayName="TableCaption";var G=t(1786),K=t(9715),X=t(2529),H=t(8874);function q(e){let{model:s}=e,{toast:t}=(0,f.dj)(),[d,o]=(0,l.useState)([]),[m,x]=(0,l.useState)(!1),[u,h]=(0,l.useState)(0),[g,v]=(0,l.useState)(0),[N,k]=(0,l.useState)(""),C=e=>{try{let s=JSON.parse(e);if(Array.isArray(s))return s.map(e=>"string"==typeof e?e:e.text||"");return[]}catch(e){return[]}},A=async()=>{if(0!==d.length){x(!0),h(0),v(0);for(let e=0;e<d.length;e++){h(e),v(e/d.length*100),o(s=>s.map((s,t)=>t===e?{...s,status:"processing"}:s));try{let t=new FormData;t.append("text",d[e].text),t.append("model",s.id);let a=await fetch("/api/tts/generate",{method:"POST",body:t});if(!a.ok)throw Error("Generation failed");let l=await a.blob(),r=URL.createObjectURL(l);o(s=>s.map((s,t)=>t===e?{...s,status:"completed",audioUrl:r}:s))}catch(s){o(s=>s.map((s,t)=>t===e?{...s,status:"error",error:"Failed to generate"}:s))}}v(100),x(!1),t({title:"Batch complete",description:"All items processed"})}},S=d.filter(e=>"completed"===e.status).length;return d.filter(e=>"error"===e.status).length,(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(r.tU,{defaultValue:"upload",className:"w-full",children:[(0,a.jsxs)(r.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(r.Xi,{value:"upload",children:"File Upload"}),(0,a.jsx)(r.Xi,{value:"json",children:"JSON Input"})]}),(0,a.jsx)(r.av,{value:"upload",className:"space-y-4",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(G.A,{className:"h-5 w-5"}),"Upload CSV or JSON"]})}),(0,a.jsx)(n.Wu,{children:(0,a.jsx)(p.e,{accept:".csv,.json,.txt",onFileSelect:e=>{if(!e)return;let s=new FileReader;s.onload=s=>{var a;let l=null==(a=s.target)?void 0:a.result,r=[],n=(r=e.name.endsWith(".json")?C(l):l.split("\n").map(e=>e.trim()).filter(e=>e.length>0)).map((e,s)=>({id:"item-".concat(Date.now(),"-").concat(s),text:e,status:"pending"}));o(e=>[...e,...n]),t({title:"File loaded",description:"".concat(n.length," items added to batch")})},s.readAsText(e)},label:"Drop CSV, JSON, or text file here",description:"Each line will be treated as a separate text to synthesize"})})]})}),(0,a.jsx)(r.av,{value:"json",className:"space-y-4",children:(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(K.A,{className:"h-5 w-5"}),"JSON Input"]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[(0,a.jsx)(c.T,{placeholder:'[\n  "Text to synthesize 1",\n  "Text to synthesize 2",\n  { "text": "Text to synthesize 3" }\n]',value:N,onChange:e=>k(e.target.value),rows:8,className:"font-mono text-sm"}),(0,a.jsx)(i.$,{onClick:()=>{let e=C(N);if(0===e.length)return void t({title:"Error",description:"Invalid JSON format. Expected array of strings or objects with 'text' property.",variant:"destructive"});let s=e.map((e,s)=>({id:"item-".concat(Date.now(),"-").concat(s),text:e,status:"pending"}));o(e=>[...e,...s]),k(""),t({title:"Items added",description:"".concat(s.length," items added to batch")})},disabled:!N.trim(),children:"Add to Batch"})]})]})})]}),d.length>0&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsx)(n.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:["Batch Items",(0,a.jsx)(D,{variant:"secondary",children:d.length})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[S>0&&(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{d.forEach((e,t)=>{if(e.audioUrl){let a=document.createElement("a");a.href=e.audioUrl,a.download="tts-".concat(s.id,"-batch-").concat(t+1,".wav"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}})},children:[(0,a.jsx)(y.A,{className:"mr-2 h-4 w-4"}),"Download All"]}),(0,a.jsxs)(i.$,{variant:"outline",size:"sm",onClick:()=>{o([]),v(0)},disabled:m,children:[(0,a.jsx)(M.A,{className:"mr-2 h-4 w-4"}),"Clear"]})]})]})}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[m&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(j.k,{value:g}),(0,a.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Processing item ",u+1," of ",d.length]})]}),(0,a.jsx)("div",{className:"border rounded-lg",children:(0,a.jsxs)(U,{children:[(0,a.jsx)(O,{children:(0,a.jsxs)(W,{children:[(0,a.jsx)($,{className:"w-12",children:"#"}),(0,a.jsx)($,{children:"Text"}),(0,a.jsx)($,{className:"w-24",children:"Status"}),(0,a.jsx)($,{className:"w-12"})]})}),(0,a.jsx)(J,{children:d.map((e,s)=>(0,a.jsxs)(W,{children:[(0,a.jsx)(_,{className:"font-mono text-xs",children:s+1}),(0,a.jsx)(_,{className:"max-w-md truncate",children:e.text}),(0,a.jsxs)(_,{children:["pending"===e.status&&(0,a.jsxs)(D,{variant:"outline",children:[(0,a.jsx)(B.A,{className:"mr-1 h-3 w-3"}),"Pending"]}),"processing"===e.status&&(0,a.jsxs)(D,{variant:"secondary",children:[(0,a.jsx)(b.A,{className:"mr-1 h-3 w-3 animate-spin"}),"Processing"]}),"completed"===e.status&&(0,a.jsxs)(D,{variant:"default",className:"bg-green-600",children:[(0,a.jsx)(X.A,{className:"mr-1 h-3 w-3"}),"Done"]}),"error"===e.status&&(0,a.jsxs)(D,{variant:"destructive",children:[(0,a.jsx)(H.A,{className:"mr-1 h-3 w-3"}),"Error"]})]}),(0,a.jsx)(_,{children:(0,a.jsx)(i.$,{variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void o(e=>e.filter(e=>e.id!==s))},disabled:m,children:(0,a.jsx)(M.A,{className:"h-4 w-4"})})})]},e.id))})]})}),(0,a.jsx)(i.$,{onClick:A,disabled:m||0===d.length,className:"w-full",children:m?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w.A,{className:"mr-2 h-4 w-4"}),"Process Batch (",d.length," items)"]})})]})]})]})}let Y=[{id:"maskgct",name:"MaskGCT",description:"Masked Generative Codec Transformer"},{id:"dualcodec-valle",name:"DualCodec-VALLE",description:"Neural Codec Language Model"},{id:"vevo-tts",name:"Vevo TTS",description:"Versatile Voice Conversion"},{id:"metis",name:"Metis",description:"Multi-Task Audio Model"}];function Q(){let[e,s]=(0,l.useState)(Y[0]);return(0,a.jsxs)("div",{className:"container mx-auto py-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Text-to-Speech"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Convert text to natural-sounding speech using state-of-the-art models"})]}),(0,a.jsxs)("div",{className:"grid gap-6 lg:grid-cols-4",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(F,{models:Y,selected:e,onSelect:s})}),(0,a.jsx)("div",{className:"lg:col-span-3",children:(0,a.jsxs)(r.tU,{defaultValue:"generate",className:"space-y-4",children:[(0,a.jsxs)(r.j7,{className:"grid w-full grid-cols-3 lg:max-w-md",children:[(0,a.jsx)(r.Xi,{value:"generate",children:"Generate"}),(0,a.jsx)(r.Xi,{value:"batch",children:"Batch"}),(0,a.jsx)(r.Xi,{value:"history",children:"History"})]}),(0,a.jsx)(r.av,{value:"generate",className:"space-y-4",children:(0,a.jsx)(A,{model:e})}),(0,a.jsx)(r.av,{value:"batch",children:(0,a.jsx)(q,{model:e})}),(0,a.jsx)(r.av,{value:"history",children:(0,a.jsx)(I,{})})]})})]})]})}}},e=>{e.O(0,[552,159,64,2,306,160,441,255,358],()=>e(e.s=3779)),_N_E=e.O()}]);